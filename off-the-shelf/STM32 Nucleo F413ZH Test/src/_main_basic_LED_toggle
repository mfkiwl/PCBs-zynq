//Blue LED PB7
//PB7 on AHB1 >> need to activate clock
//RCC AHB1 enable address : 0x30
//RCC AHB1 Port B enable bit : 1
//RCC_AHB1ENR = 0x
//GPIOx_MODER - output mode
//GPIOx_ODR - output data

#include "stm32f4xx_hal.h"
void delayMs(int delay);

int main(void)
{
  RCC->AHB1ENR |= 2;        //enable GPIOA clock
  GPIOB->MODER |= 0x4000;    //set pin 7 mode as output

  while(1){
    GPIOB->ODR |= 0x80;
    delayMs(1);
    GPIOB->ODR &= ~0x80;
    delayMs(1000);
  }
}

void delayMs(int delay)
{
  volatile int i;
  for ( ; delay > 0; delay-- ){
    for (i = 0; i < 2000; i++ ){;}
  }
}
